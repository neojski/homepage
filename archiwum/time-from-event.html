<?xml encoding="utf8" version="1.0"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<title>Time from an event (for example 10 minutes ago)</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<script type="text/javascript">
	var enter_time;
	window.onload=function(){
		enter_time = new Date();
	}
	Date.prototype.when = function(){
		var diff = (new Date() - this)/1e3,
		u = [ "second", "minute", "hour", "day", "weeks", "month", "year" ],
		s = [ 1, 60, 60, 24, 7, 4.333, 12, 1e9], // again fast hack - 1e9
		i=0;
		for(;;i++){
			if((diff/=s[i])<1){
				return ~~(diff*=s[i])+' '+u[i-1]+(~~diff>1?'s':'');
			}
		}
	}
	</script>
</head>
<body>
	<p>Script written in javascript</p>
	<code><pre>Date.prototype.when = function(){
	var diff = (new Date() - this)/1e3,
	u = [ "second", "minute", "hour", "day", "weeks", "month", "year" ],
	s = [ 1, 60, 60, 24, 7, 4.333, 12, 1e9],
	i=0;
	for(;;i++){
		if((diff/=s[i])<1){
			return ~~(diff*=s[i])+' '+u[i-1]+(~~diff>1?'s':'');
		}
	}
}</pre></code>
<p>Example: <button onclick="alert('You entered this site '+enter_time.when()+' ago.')">click</button></p>
</body>
</html>